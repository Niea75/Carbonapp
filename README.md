# Carbonapp

탄소저감 활동을 기록하고 팀/개인 리더보드를 확인할 수 있는 크로스플랫폼(아이폰/안드로이드) 리액트 네이티브 앱 스켈레톤입니다.

## 주요 기능
- **연 1회 이용동의**: 사용자 식별자와 동의 버전을 저장하며 1년이 지나면 재동의 필요.
- **활동 인증 탭**: 텀블러 사용(사진 필수), 친환경 출퇴근, 화상회의, 출장 대체 등 활동을 아이콘으로 선택해 기록.
- **자동 퀘스트**: 활동기록을 바탕으로 하루 3개의 퀘스트가 활성화되고, 달성 시 피드에 기록.
- **리더보드**: 팀은 브론즈/실버/골드 리그로 구분해 보기, 개인은 포인트와 연속 활동일 제공.
- **피드 & 댓글**: 활동/퀘스트 업데이트가 피드에 쌓이고 댓글을 남길 수 있음.
- **설정**: 동의 버전 확인 및 재동의 트리거, 데이터 로컬 저장 안내.

## 개발/실행
1. 의존성 설치: `npm install`
2. 개발 서버 시작: `npm start` (Expo)
3. 웹에서 확인: `npm run web` (브라우저에서 Expo 웹 번들 확인)
4. Expo Go 앱 또는 에뮬레이터에서 실행합니다.

### `npm install` 중 403 오류가 날 때

프로xy 환경에서 npm이 `403 Forbidden - GET https://registry.npmjs.org/...` 에러를 반환하는 경우가 있습니다. 아래 스크립트가 현재 셸의 프록시 환경 변수를 일시적으로 비우고 공용 npm 레지스트리를 강제로 사용하도록 한 뒤 설치를 재시도합니다.

```
./scripts/install-without-proxy.sh
```

설정 변경은 현재 터미널 세션에만 적용됩니다. 403이 계속되면 현재 셸에 남아 있는 프록시/인증서 환경 변수를 먼저 확인하세요.

```
./scripts/check-proxy-env.sh
```

만약 웹 실행 시 `react-native-web` 등의 패키지 누락 오류가 발생한다면 다음 명령으로 웹 필수 패키지를 설치하세요(오프라인 모드에서는 자동 추가가 건너뛰어질 수 있습니다).

```
npx expo install react-native-web@~0.19.10 react-dom@18.2.0 @expo/metro-runtime@~3.2.3
```

## 폴더 구조
- `App.tsx`: 내비게이션과 동의 플로우 루트
- `src/context`: 앱 전체 상태(동의, 활동, 퀘스트, 피드) 관리 컨텍스트
- `src/screens`: 각 탭 화면 컴포넌트
- `src/utils`: 상수 및 헬퍼
- `src/types.ts`: 타입 정의
